(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     45065,       1275]
NotebookOptionsPosition[     42940,       1205]
NotebookOutlinePosition[     43482,       1225]
CellTagsIndexPosition[     43439,       1222]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"StringJoin", "[", 
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], ",", "\"\</build\>\""}], "]"}], 
   "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.607111339081559*^9, 3.607111345909121*^9}, {
  3.60711153167107*^9, 3.60711154343987*^9}},
 FontSize->14],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   StyleBox["Notebook", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["for", "Subsubsection"], " ", 
   StyleBox["calculating", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["a", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["closed", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["form", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["expression", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["for", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["the", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["torque", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["mapping", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["in", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox[
    RowBox[{"Valkyrie", "'"}], "Subsubsection"], 
   StyleBox["s", "Subsubsection"], 
   StyleBox[" ", "Subsubsection"], 
   StyleBox["transmissions", "Subsubsection"]}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "The", " ", "H", " ", "function", " ", "constructs", " ", "a", " ", 
    "homogeneous", " ", "transfromation", " ", "matrix", " ", "from", " ", 
    "DH", " ", "parameters"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"H", "[", 
     RowBox[{"\[Alpha]_", ",", "\[Theta]_", ",", "d_", ",", "a_"}], "]"}], ":=", 
    RowBox[{"Rationalize", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Cos", "[", "\[Theta]", "]"}], ",", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "*", 
          RowBox[{"Cos", "[", "\[Alpha]", "]"}]}], ",", 
         RowBox[{
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "*", 
          RowBox[{"Sin", "[", "\[Alpha]", "]"}]}], ",", 
         RowBox[{"a", "*", 
          RowBox[{"Cos", "[", "\[Theta]", "]"}]}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Sin", "[", "\[Theta]", "]"}], ",", " ", 
         RowBox[{
          RowBox[{"Cos", "[", "\[Theta]", "]"}], "*", 
          RowBox[{"Cos", "[", "\[Alpha]", "]"}]}], ",", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "*", 
          RowBox[{"Sin", "[", "\[Alpha]", "]"}]}], ",", 
         RowBox[{"a", "*", 
          RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", 
         RowBox[{"Sin", "[", "\[Alpha]", "]"}], ",", 
         RowBox[{"Cos", "[", "\[Alpha]", "]"}], ",", "d"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}], "]"}]}], 
   ";"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "The", " ", "positionVec", " ", "function", " ", "extracts", " ", "a", " ",
     "position", " ", "vector", " ", "from", " ", "a", " ", "homogeneous", 
    " ", "transformation", " ", "matrix"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"positionVec", "[", "Hmat_", "]"}], ":=", 
    RowBox[{"Hmat", "\[LeftDoubleBracket]", 
     RowBox[{
      RowBox[{"1", ";;", "3"}], ",", "4"}], "\[RightDoubleBracket]"}]}], 
   ";"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "The", " ", "rotationMat", " ", "function", " ", "extracts", " ", "a", " ",
     "rotation", " ", "matrix", " ", "from", " ", "a", " ", "homogeneous", 
    " ", "transformation", " ", "matrix"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"rotationMat", "[", "Hmat_", "]"}], ":=", 
    RowBox[{"Hmat", "\[LeftDoubleBracket]", 
     RowBox[{
      RowBox[{"1", ";;", "3"}], ",", 
      RowBox[{"1", ";;", "3"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   SubscriptBox["p", "01"], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0", "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   SubscriptBox["H", "01"], "=", 
   RowBox[{"H", "[", 
    RowBox[{"0", ",", 
     SubscriptBox["q", "p"], ",", "0", ",", "0"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  SubscriptBox["H", "01"], "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQA2IQXcfzfkb0/VeOXUn120H0lzNv9oLodiP+fSDaTSPg
MIheqpR6G0RbhM15CKKTpvs/AtGfWuW+gOjGGEswLed8tyUGSP8x+d4Komdq
HVoHoq0WnlkPop8Uv90NoicG2xwF0dc3TnsPop02z/gIVnfhalkskD63k6sf
RHvdS5kMoveUpYHpIy5P5oLojJ9v54FouWXrVoHoV61P14HoCJe7+XFAOkw7
tQBEv9i/X7QCSKvrXwPTrAHuRiD6K0shmP5072gziPY4rNsCokvc1/wG0XZb
PjFWgsLjh9mkeiD9Y/q92SA6IqFpyw8g/bZPZBuI3uFnOf8XkNZY07QYRGcI
XHL4C6QfNbI6gWgARcPPzg==
  "],
 FontSize->14],

Cell[BoxData[
 RowBox[{"a", " ", "calculating", " ", "closed", " ", "expression", " ", 
  SuperscriptBox["for", "2"], " ", "form", " ", "in", " ", "mapping", " ", 
  "Notebook", " ", "s", " ", "the", " ", "torque", " ", "transmissions", " ", 
  
  SuperscriptBox["Valkyrie", "\[Prime]",
   MultilineFunction->None]}]], "Output",
 CellChangeTimes->{
  3.606825044520811*^9, 3.606825576544139*^9, 3.6068259361957407`*^9, 
   3.6068262231700706`*^9, 3.60682740597831*^9, 3.6068385566589537`*^9, 
   3.606839250269744*^9, 3.60684713383727*^9, 3.607086310022787*^9, {
   3.607086506074568*^9, 3.607086517206379*^9}, 3.607086756441729*^9, 
   3.6070868827997293`*^9, 3.607087145095394*^9, 3.6070871840295877`*^9, 
   3.60708735939441*^9, 3.607087785011135*^9, 3.607088589140951*^9, 
   3.607094734952523*^9, 3.607110953506608*^9, 3.607110989846133*^9, 
   3.607111025613597*^9, 3.607111107584062*^9, 3.607111321853058*^9, 
   3.607111363780818*^9, 3.6071115476509113`*^9, 3.607111664257008*^9, 
   3.607111801903071*^9, 3.607111903532577*^9, 3.6071687359941483`*^9, 
   3.6071690398567133`*^9, 3.607176714199053*^9},
 FontSize->14],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "p"], "]"}], 
      RowBox[{"-", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "p"], "]"}]}], "0", "0"},
     {
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "p"], "]"}], 
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "p"], "]"}], "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.606825044520811*^9, 3.606825576544139*^9, 3.6068259361957407`*^9, 
   3.6068262231700706`*^9, 3.60682740597831*^9, 3.6068385566589537`*^9, 
   3.606839250269744*^9, 3.60684713383727*^9, 3.607086310022787*^9, {
   3.607086506074568*^9, 3.607086517206379*^9}, 3.607086756441729*^9, 
   3.6070868827997293`*^9, 3.607087145095394*^9, 3.6070871840295877`*^9, 
   3.60708735939441*^9, 3.607087785011135*^9, 3.607088589140951*^9, 
   3.607094734952523*^9, 3.607110953506608*^9, 3.607110989846133*^9, 
   3.607111025613597*^9, 3.607111107584062*^9, 3.607111321853058*^9, 
   3.607111363780818*^9, 3.6071115476509113`*^9, 3.607111664257008*^9, 
   3.607111801903071*^9, 3.607111903532577*^9, 3.6071687359941483`*^9, 
   3.6071690398567133`*^9, 3.607176714202941*^9},
 FontSize->14]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"The", " ", "-", 
   RowBox[{
   "0.0127", " ", "here", " ", "represents", " ", "the", " ", "distance", " ",
     "between", " ", "the", " ", "ankle", " ", "pitch", " ", "joint", " ", 
    "and", " ", "the", " ", "ankle", " ", "roll", " ", "joint"}]}], 
  "*)"}]], "Input",
 CellChangeTimes->{{3.607095409035204*^9, 3.6070954284181213`*^9}, {
  3.6071617777187967`*^9, 3.607161778836481*^9}},
 FontSize->14],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    SubscriptBox["H", "12"], "=", 
    RowBox[{"H", "[", 
     RowBox[{
      FractionBox[
       RowBox[{"-", "\[Pi]"}], "2"], ",", "0", ",", "0", ",", 
      RowBox[{"-", "0.0127"}]}], "]"}]}], " ", ";"}], 
  RowBox[{"(*", 
   RowBox[{"Not", " ", "sure", " ", "about", " ", "the", " ", "signs", " ", 
    RowBox[{"here", "."}]}], "*)"}]}]], "Input",
 CellChangeTimes->{{3.606764743470275*^9, 3.6067649879807787`*^9}, {
  3.6067650394000187`*^9, 3.606765040474918*^9}, {3.606765082504916*^9, 
  3.606765275160479*^9}, {3.6067653248855247`*^9, 3.6067653304872293`*^9}, {
  3.6067654729538507`*^9, 3.606765473792542*^9}, {3.606766630914443*^9, 
  3.606766639725218*^9}, {3.6067669660677*^9, 3.606766974394681*^9}, {
  3.606767071420397*^9, 3.606767145885201*^9}, {3.606767484709209*^9, 
  3.606767500771882*^9}, {3.6067685666816683`*^9, 3.606768760335181*^9}, {
  3.606768795152135*^9, 3.606768795201994*^9}, {3.6067688791333942`*^9, 
  3.606768887436695*^9}, {3.606768981457778*^9, 3.606769015172597*^9}, {
  3.6067705589145927`*^9, 3.60677056316154*^9}, {3.606823085992176*^9, 
  3.606823086693256*^9}, {3.606823314228518*^9, 3.606823315531855*^9}, {
  3.606823966183465*^9, 3.606823969430088*^9}, {3.6068249253837223`*^9, 
  3.6068249918703833`*^9}},
 FontSize->14],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  SubscriptBox["H", "12"], "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.606769018690947*^9, 3.606769022218464*^9}},
 FontSize->14],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", 
      RowBox[{"-", 
       FractionBox["127", "10000"]}]},
     {"0", "0", "1", "0"},
     {"0", 
      RowBox[{"-", "1"}], "0", "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.6068249119075527`*^9, 3.60682504461795*^9, 
  3.6068255766984673`*^9, 3.606825936285781*^9, 3.606826223212206*^9, 
  3.606827406105138*^9, 3.606838556740292*^9, 3.6068392503865767`*^9, 
  3.606847133942032*^9, 3.607086310177198*^9, 3.607086517282611*^9, 
  3.6070867565381603`*^9, 3.607086882926859*^9, 3.607087145151906*^9, 
  3.607087184154208*^9, 3.607087359519162*^9, 3.607087785447997*^9, 
  3.607088589294793*^9, 3.607094735046908*^9, 3.607110953572095*^9, 
  3.60711099002521*^9, 3.607111025846281*^9, 3.607111107720641*^9, 
  3.6071113219934473`*^9, 3.607111364003693*^9, 3.607111547716625*^9, 
  3.607111664480657*^9, 3.607111802036503*^9, 3.6071119036900682`*^9, 
  3.607168736147312*^9, 3.607169039980682*^9, 3.607176714364896*^9},
 FontSize->14]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   SubscriptBox["H", "23"], "=", 
   RowBox[{"H", "[", 
    RowBox[{"0", ",", 
     SubscriptBox["q", "r"], ",", "0", ",", "0"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  SubscriptBox["H", "23"], "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{{3.606769031415203*^9, 3.606769091406805*^9}, 
   3.606823094444335*^9, {3.60682371817302*^9, 3.6068237216356783`*^9}, 
   3.606823951620912*^9, {3.6068249963166437`*^9, 3.6068250028942423`*^9}, 
   3.607162876156066*^9},
 FontSize->14],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "r"], "]"}], 
      RowBox[{"-", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "r"], "]"}]}], "0", "0"},
     {
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "r"], "]"}], 
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "r"], "]"}], "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.606824911910337*^9, 3.606825044659562*^9, 
  3.606825576740963*^9, 3.6068259363714542`*^9, 3.606826223247809*^9, 
  3.606827406129744*^9, 3.606838556760633*^9, 3.6068392504617453`*^9, 
  3.60684713396833*^9, 3.607086310194529*^9, 3.6070865173089027`*^9, 
  3.607086756567978*^9, 3.6070868829300327`*^9, 3.6070871451666594`*^9, 
  3.607087184206402*^9, 3.607087359541997*^9, 3.607087785477315*^9, 
  3.6070885893332567`*^9, 3.6070947350725737`*^9, 3.607110953596703*^9, 
  3.607110990164734*^9, 3.607111025897702*^9, 3.6071111077506123`*^9, 
  3.6071113220118856`*^9, 3.6071113640386877`*^9, 3.607111547761075*^9, 
  3.607111664527656*^9, 3.607111802068193*^9, 3.6071119037345343`*^9, 
  3.6071687362065573`*^9, 3.607169040034177*^9, 3.607176714422778*^9},
 FontSize->14]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
  "The", " ", "hard", " ", "coded", " ", "values", " ", "here", " ", "come", 
   " ", "from", " ", "CAD"}], "*)"}]], "Input",
 CellChangeTimes->{{3.607095360193214*^9, 3.6070953703326387`*^9}},
 FontSize->14],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"p3toX1inFrame3", "=", 
    RowBox[{"Rationalize", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", "0.018", "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"-", "0.0355"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"-", "0.0361"}], "}"}]}], "}"}], "]"}]}], ";", " ", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "The", " ", "signs", " ", "on", " ", "the", " ", "y", " ", "component", 
      " ", "of", " ", "these", " ", "may", " ", "be", " ", "backwards"}], ",",
      " ", 
     RowBox[{"not", " ", "sure"}]}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{"p3toX2inFrame3", "=", 
    RowBox[{"Rationalize", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", "0.018", "}"}], ",", 
       RowBox[{"{", "0.0355", "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"-", "0.0361"}], "}"}]}], "}"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "These", " ", "vectors", " ", "represent", " ", "the", " ", "position", 
    " ", "vector", " ", "from", " ", "frame", " ", "0", " ", "to", " ", 
    SubscriptBox["y", "1"], " ", "and", " ", 
    RowBox[{
     SubscriptBox["y", "2"], "."}]}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    SubscriptBox["p", "y1"], "=", 
    RowBox[{"Rationalize", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", "L1", "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"-", "0.0216"}], "}"}], ",", 
       RowBox[{"{", "0.0413", "}"}]}], "}"}], "]"}]}], ";"}], 
  "  "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   SubscriptBox["p", "y2"], "=", 
   RowBox[{"Rationalize", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", "L2", "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"-", "0.0216"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"-", "0.0413"}], "}"}]}], "}"}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQAWIQ/Ym7dXfs/VeOl46LnQHRk+eUXQDRvA8MroNonra7
90H0DmOppyA6eHLYHxB9Mf0QaxyQfsGvxgOiT1no8oLooofMziD6Dn8OmF4h
dt8DRD+x5/QG0RN0rweC6Dc3OMNB9IPihfEgmvfy/XQQbXMgIxdEz4o7B6Zn
RPovBdFbwsVXg+i+JaabQXTxxMwtIPpimdIzsPwn7RcgmivGMSEeSHM6xYLp
aR0LOSpB6r2YOEH07U2TFEB0zbINSiBaK+y10l8gfaH2ryGINpjLcUvhwSvH
T1vCboPoCSq9n0H0goOPv4Fooyu7/oFouXduDIpAGgDBFbEW
  "],
 FontSize->14],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "These", " ", "are", " ", "vectors", " ", "from", " ", "frame", " ", "0", 
    " ", "to", " ", 
    SubscriptBox[
     StyleBox["x",
      FontSize->16], "1"], " ", "and", " ", 
    SubscriptBox["x", "2"]}], "*)"}]}]], "Input",
 CellChangeTimes->{{3.6070957023461657`*^9, 3.60709574549025*^9}},
 FontSize->14],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  SubscriptBox["p", "x1"], "=", 
  RowBox[{
   RowBox[{"positionVec", "[", 
    RowBox[{
     SubscriptBox["H", "01"], ".", 
     SubscriptBox["H", "12"], ".", 
     SubscriptBox["H", "23"]}], "]"}], "+", 
   RowBox[{
    RowBox[{"rotationMat", "[", 
     RowBox[{
      SubscriptBox["H", "01"], ".", 
      SubscriptBox["H", "12"], ".", 
      SubscriptBox["H", "23"]}], "]"}], ".", 
    "p3toX1inFrame3"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   SubscriptBox["p", "x2"], "=", 
   RowBox[{
    RowBox[{"positionVec", "[", 
     RowBox[{
      SubscriptBox["H", "01"], ".", 
      SubscriptBox["H", "12"], ".", 
      SubscriptBox["H", "23"]}], "]"}], "+", 
    RowBox[{
     RowBox[{"rotationMat", "[", 
      RowBox[{
       SubscriptBox["H", "01"], ".", 
       SubscriptBox["H", "12"], ".", 
       SubscriptBox["H", "23"]}], "]"}], ".", "p3toX2inFrame3"}]}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.606769552081312*^9, 3.6067696081686363`*^9}, {
   3.6067697747834682`*^9, 3.606769830295198*^9}, {3.606769926766621*^9, 
   3.6067699642425632`*^9}, {3.6067700423606367`*^9, 3.606770063355646*^9}, {
   3.60677015436941*^9, 3.606770190664345*^9}, 3.606770420466036*^9, {
   3.606770527568686*^9, 3.606770530849689*^9}, {3.6067707293229523`*^9, 
   3.606770764528242*^9}, {3.606770799263547*^9, 3.606770872696218*^9}, 
   3.606770931273424*^9, {3.606771040139542*^9, 3.606771083688155*^9}, {
   3.606771510977507*^9, 3.606771514331463*^9}, {3.606772488521277*^9, 
   3.606772504337419*^9}, 3.6068242121452227`*^9, {3.606825035918354*^9, 
   3.606825040294181*^9}, {3.606825468183751*^9, 3.606825477799117*^9}, {
   3.6068255653129396`*^9, 3.606825567807745*^9}, 3.6071110584496202`*^9},
 FontSize->14],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"127", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"]}], "+", 
     RowBox[{
      FractionBox["9", "500"], " ", 
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "p"], "]"}], " ", 
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "r"], "]"}]}], "+", 
     FractionBox[
      RowBox[{"361", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "p"], "]"}]}], "10000"], "+", 
     FractionBox[
      RowBox[{"71", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "p"], "]"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "r"], "]"}]}], "2000"]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       RowBox[{"361", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"]}], "-", 
     FractionBox[
      RowBox[{"127", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "p"], "]"}]}], "10000"], "+", 
     RowBox[{
      FractionBox["9", "500"], " ", 
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "r"], "]"}], " ", 
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "p"], "]"}]}], "+", 
     FractionBox[
      RowBox[{"71", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "p"], "]"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "r"], "]"}]}], "2000"]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     FractionBox[
      RowBox[{"71", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "r"], "]"}]}], "2000"], "-", 
     FractionBox[
      RowBox[{"9", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "r"], "]"}]}], "500"]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.607111107836933*^9, 3.607111322041058*^9, 
  3.607111364086245*^9, 3.607111547832725*^9, 3.607111664584091*^9, 
  3.607111802113842*^9, 3.6071119037886267`*^9, 3.60716873628935*^9, 
  3.607169040106271*^9, 3.607176714477078*^9},
 FontSize->14]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   SubscriptBox["r", "1"], "=", 
   RowBox[{
    SubscriptBox["p", "y1"], "-", 
    SubscriptBox["p", "x1"]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   SubscriptBox["r", "2"], "=", 
   RowBox[{
    SubscriptBox["p", "y2"], "-", 
    SubscriptBox["p", "x2"]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.606770875695158*^9, 3.606770897662569*^9}, {
   3.606771062439084*^9, 3.606771071386179*^9}, {3.606771120857129*^9, 
   3.606771123751526*^9}, {3.606772508776868*^9, 3.606772515000635*^9}, {
   3.606821175345994*^9, 3.606821177274872*^9}, 3.606824233686294*^9},
 FontSize->14],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"r1Magnitude", "=", 
  RowBox[{"Refine", "[", 
   RowBox[{
    RowBox[{"Norm", "[", 
     SubscriptBox["r", "1"], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       SubscriptBox["q", "r"], "\[Element]", "Reals"}], ",", 
      RowBox[{
       SubscriptBox["q", "p"], "\[Element]", "Reals"}], ",", 
      RowBox[{"L1", "\[Element]", "Reals"}]}], "}"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"r2Magnitude", "=", 
  RowBox[{"Refine", "[", 
   RowBox[{
    RowBox[{"Norm", "[", 
     SubscriptBox["r", "2"], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       SubscriptBox["q", "r"], "\[Element]", "Reals"}], ",", 
      RowBox[{
       SubscriptBox["q", "p"], "\[Element]", "Reals"}], ",", 
      RowBox[{"L2", "\[Element]", "Reals"}]}], "}"}]}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.606773027715561*^9, 3.606773028029337*^9}, {
  3.606821363913374*^9, 3.606821387328146*^9}, {3.6068215527053957`*^9, 
  3.606821619906801*^9}, {3.606821678026436*^9, 3.606821707488779*^9}, {
  3.606821744446426*^9, 3.606821744650034*^9}, {3.606821787780839*^9, 
  3.6068217917632217`*^9}, {3.606821870493103*^9, 3.606821870692234*^9}, {
  3.606823199564744*^9, 3.6068232030991383`*^9}, {3.60682424678891*^9, 
  3.6068242547412453`*^9}, {3.607095781995921*^9, 3.6070957853700237`*^9}},
 FontSize->14],

Cell[BoxData[
 SqrtBox[
  RowBox[{
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      FractionBox["413", "10000"], "-", 
      FractionBox[
       RowBox[{"71", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "r"], "]"}]}], "2000"], "+", 
      FractionBox[
       RowBox[{"9", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "r"], "]"}]}], "500"]}], ")"}], "2"], "+", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"L1", "+", 
      FractionBox[
       RowBox[{"127", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "-", 
      RowBox[{
       FractionBox["9", "500"], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "p"], "]"}], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "r"], "]"}]}], "-", 
      FractionBox[
       RowBox[{"361", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "-", 
      FractionBox[
       RowBox[{"71", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}], " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "r"], "]"}]}], "2000"]}], ")"}], "2"], "+", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", 
       FractionBox["27", "1250"]}], "+", 
      FractionBox[
       RowBox[{"361", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "+", 
      FractionBox[
       RowBox[{"127", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "-", 
      RowBox[{
       FractionBox["9", "500"], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "r"], "]"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "p"], "]"}]}], "-", 
      FractionBox[
       RowBox[{"71", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "p"], "]"}], " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "r"], "]"}]}], "2000"]}], ")"}], "2"]}]]], "Output",\

 CellChangeTimes->{3.606824911974135*^9, 3.6068250448342037`*^9, 
  3.606825576814104*^9, 3.606825936442829*^9, 3.6068262233696213`*^9, 
  3.606827406232876*^9, 3.606838556805665*^9, 3.606839250588027*^9, 
  3.6068471340161047`*^9, 3.607086310245792*^9, 3.6070865173530493`*^9, 
  3.607086756617607*^9, 3.607086882979204*^9, 3.607087145274267*^9, 
  3.607087184243339*^9, 3.607087359580598*^9, 3.607087785518409*^9, 
  3.60708858940291*^9, 3.607094735118376*^9, 3.6071109536527967`*^9, 
  3.607110990434993*^9, 3.607111025974102*^9, 3.607111107882165*^9, 
  3.607111322067474*^9, 3.60711136413484*^9, 3.6071115478856*^9, 
  3.607111664641478*^9, 3.607111802148842*^9, 3.607111903845746*^9, 
  3.607168736357045*^9, 3.607169040168401*^9, 3.6071767145322847`*^9},
 FontSize->14],

Cell[BoxData[
 SqrtBox[
  RowBox[{
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", 
       FractionBox["413", "10000"]}], "+", 
      FractionBox[
       RowBox[{"71", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "r"], "]"}]}], "2000"], "+", 
      FractionBox[
       RowBox[{"9", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "r"], "]"}]}], "500"]}], ")"}], "2"], "+", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"L2", "+", 
      FractionBox[
       RowBox[{"127", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "-", 
      RowBox[{
       FractionBox["9", "500"], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "p"], "]"}], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "r"], "]"}]}], "-", 
      FractionBox[
       RowBox[{"361", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "+", 
      FractionBox[
       RowBox[{"71", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}], " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "r"], "]"}]}], "2000"]}], ")"}], "2"], "+", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", 
       FractionBox["27", "1250"]}], "+", 
      FractionBox[
       RowBox[{"361", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "+", 
      FractionBox[
       RowBox[{"127", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "p"], "]"}]}], "10000"], "-", 
      RowBox[{
       FractionBox["9", "500"], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "r"], "]"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "p"], "]"}]}], "+", 
      FractionBox[
       RowBox[{"71", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "p"], "]"}], " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "r"], "]"}]}], "2000"]}], ")"}], "2"]}]]], "Output",\

 CellChangeTimes->{3.606824911974135*^9, 3.6068250448342037`*^9, 
  3.606825576814104*^9, 3.606825936442829*^9, 3.6068262233696213`*^9, 
  3.606827406232876*^9, 3.606838556805665*^9, 3.606839250588027*^9, 
  3.6068471340161047`*^9, 3.607086310245792*^9, 3.6070865173530493`*^9, 
  3.607086756617607*^9, 3.607086882979204*^9, 3.607087145274267*^9, 
  3.607087184243339*^9, 3.607087359580598*^9, 3.607087785518409*^9, 
  3.60708858940291*^9, 3.607094735118376*^9, 3.6071109536527967`*^9, 
  3.607110990434993*^9, 3.607111025974102*^9, 3.607111107882165*^9, 
  3.607111322067474*^9, 3.60711136413484*^9, 3.6071115478856*^9, 
  3.607111664641478*^9, 3.607111802148842*^9, 3.607111903845746*^9, 
  3.607168736357045*^9, 3.607169040168401*^9, 3.6071767145779457`*^9},
 FontSize->14]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"L1Solution", " ", "=", " ", 
   RowBox[{
    RowBox[{"Solve", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
        SuperscriptBox["r1Magnitude", "2"], "-", 
        RowBox[{"(", 
         SuperscriptBox[
          RowBox[{"Rationalize", "[", "0.104953", "]"}], "2"], ")"}]}], 
       "\[Equal]", "0"}], ",", 
      RowBox[{"{", "L1", "}"}]}], "]"}], "//", "FullSimplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.60682175534085*^9, 3.606821776784936*^9}, {
   3.6068218787310953`*^9, 3.6068219131663446`*^9}, {3.606822787122388*^9, 
   3.606822794691497*^9}, 3.6068259492341413`*^9, {3.607110999874048*^9, 
   3.607111000318988*^9}},
 FontSize->14],

Cell[BoxData[
 RowBox[{
  RowBox[{"L2Solution", " ", "=", " ", 
   RowBox[{
    RowBox[{"Solve", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
        SuperscriptBox["r2Magnitude", "2"], "-", 
        RowBox[{"(", 
         SuperscriptBox[
          RowBox[{"Rationalize", "[", "0.104953", "]"}], "2"], ")"}]}], 
       "\[Equal]", "0"}], ",", 
      RowBox[{"{", "L2", "}"}]}], "]"}], "//", "FullSimplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.6068259260461082`*^9, 3.606825950006516*^9}, {
  3.607111004967516*^9, 3.60711100671139*^9}},
 FontSize->14],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    SubscriptBox["r", "1"], "/.", 
    RowBox[{
    "L1Solution", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], "//",
    "FullSimplify"}], "//", "MatrixForm", 
  RowBox[{"(*", 
   RowBox[{"Closed", " ", "form", " ", "expression", " ", "for", " ", 
    SubscriptBox["r", "1"], " ", "in", " ", "terms", " ", "of", " ", "the", 
    " ", "joint", " ", "variables", " ", 
    SubscriptBox["q", "r"], " ", "and", " ", 
    SubscriptBox["q", "p"]}], "*)"}]}]], "Input",
 CellChangeTimes->{{3.6070886062039223`*^9, 3.607088649996366*^9}, {
  3.6070887046989594`*^9, 3.6070887094672403`*^9}, {3.607088775650975*^9, 
  3.6070887773799953`*^9}, {3.6070889534610023`*^9, 3.60708903561444*^9}, {
  3.607094931550427*^9, 3.607094952733843*^9}},
 FontSize->14],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", 
       FractionBox[
        SqrtBox[
         RowBox[{"5794132209", "+", 
          RowBox[{"1559520000", " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "p"], "]"}]}], "+", 
          RowBox[{"548640000", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "p"], "]"}]}], "-", 
          RowBox[{"100000", " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "r"], "]"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "33895"}], "+", 
             RowBox[{"7776", " ", 
              RowBox[{"Sin", "[", 
               SubscriptBox["q", "p"], "]"}]}]}], ")"}]}], "-", 
          RowBox[{"585100000", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "r"], "]"}]}], "-", 
          RowBox[{"1533600000", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "p"], "]"}], " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "r"], "]"}]}], "+", 
          RowBox[{"2500", " ", 
           SuperscriptBox[
            RowBox[{"(", 
             RowBox[{
              RowBox[{"722", " ", 
               RowBox[{"Sin", "[", 
                SubscriptBox["q", "p"], "]"}]}], "+", 
              RowBox[{
               RowBox[{"Cos", "[", 
                SubscriptBox["q", "p"], "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"-", "254"}], "+", 
                 RowBox[{"360", " ", 
                  RowBox[{"Cos", "[", 
                   SubscriptBox["q", "r"], "]"}]}], "+", 
                 RowBox[{"710", " ", 
                  RowBox[{"Sin", "[", 
                   SubscriptBox["q", "r"], "]"}]}]}], ")"}]}]}], ")"}], 
            "2"]}]}]], "1000000"]}]},
     {
      FractionBox[
       RowBox[{
        RowBox[{"-", "216"}], "+", 
        RowBox[{"361", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "p"], "]"}]}], "+", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "p"], "]"}], " ", 
         RowBox[{"(", 
          RowBox[{"127", "-", 
           RowBox[{"180", " ", 
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "r"], "]"}]}], "-", 
           RowBox[{"355", " ", 
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "r"], "]"}]}]}], ")"}]}]}], "10000"]},
     {
      FractionBox[
       RowBox[{"413", "-", 
        RowBox[{"355", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "r"], "]"}]}], "+", 
        RowBox[{"180", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "r"], "]"}]}]}], "10000"]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.6070947451025553`*^9, {3.607094933526107*^9, 3.607094954508082*^9}, 
   3.6071109540498123`*^9, 3.607111035985676*^9, 3.6071111179955683`*^9, 
   3.607111331897622*^9, 3.607111373977894*^9, 3.60711155778857*^9, 
   3.607111674447216*^9, 3.6071118121586742`*^9, 3.60711191373133*^9, 
   3.6071687464968*^9, 3.607169050102532*^9, 3.607176724127798*^9},
 FontSize->14]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    SubscriptBox["r", "2"], "/.", 
    RowBox[{
    "L2Solution", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], "//",
    "FullSimplify"}], " ", "//", "MatrixForm", " ", 
  RowBox[{"(*", 
   RowBox[{"Closed", " ", "form", " ", "expression", " ", "for", " ", 
    SubscriptBox["r", "2"], " ", "in", " ", "terms", " ", "of", " ", "the", 
    " ", "joint", " ", "variables", " ", 
    SubscriptBox["q", "r"], " ", "and", " ", 
    SubscriptBox["q", "p"]}], "*)"}]}]], "Input",
 CellChangeTimes->{{3.607088653850114*^9, 3.607088700971738*^9}, {
  3.6070890445072937`*^9, 3.607089063609783*^9}},
 FontSize->14],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", 
       FractionBox[
        SqrtBox[
         RowBox[{"5794132209", "+", 
          RowBox[{"1559520000", " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "p"], "]"}]}], "+", 
          RowBox[{"548640000", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "p"], "]"}]}], "-", 
          RowBox[{"100000", " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "r"], "]"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "33895"}], "+", 
             RowBox[{"7776", " ", 
              RowBox[{"Sin", "[", 
               SubscriptBox["q", "p"], "]"}]}]}], ")"}]}], "+", 
          RowBox[{"2500", " ", 
           SuperscriptBox[
            RowBox[{"(", 
             RowBox[{
              RowBox[{"722", " ", 
               RowBox[{"Sin", "[", 
                SubscriptBox["q", "p"], "]"}]}], "+", 
              RowBox[{
               RowBox[{"Cos", "[", 
                SubscriptBox["q", "p"], "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"-", "254"}], "+", 
                 RowBox[{"360", " ", 
                  RowBox[{"Cos", "[", 
                   SubscriptBox["q", "r"], "]"}]}], "-", 
                 RowBox[{"710", " ", 
                  RowBox[{"Sin", "[", 
                   SubscriptBox["q", "r"], "]"}]}]}], ")"}]}]}], ")"}], 
            "2"]}], "+", 
          RowBox[{"585100000", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "r"], "]"}]}], "+", 
          RowBox[{"1533600000", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "p"], "]"}], " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "r"], "]"}]}]}]], "1000000"]}]},
     {
      FractionBox[
       RowBox[{
        RowBox[{"-", "216"}], "+", 
        RowBox[{"361", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "p"], "]"}]}], "+", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "p"], "]"}], " ", 
         RowBox[{"(", 
          RowBox[{"127", "-", 
           RowBox[{"180", " ", 
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "r"], "]"}]}], "+", 
           RowBox[{"355", " ", 
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "r"], "]"}]}]}], ")"}]}]}], "10000"]},
     {
      FractionBox[
       RowBox[{
        RowBox[{"-", "413"}], "+", 
        RowBox[{"355", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "r"], "]"}]}], "+", 
        RowBox[{"180", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "r"], "]"}]}]}], "10000"]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.6070886658809223`*^9, {3.607089046560062*^9, 3.6070890641200123`*^9}, 
   3.607094746292598*^9, 3.6071109542391872`*^9, 3.607111037150826*^9, 
   3.6071111192267437`*^9, 3.607111333076846*^9, 3.607111375158801*^9, 
   3.607111558959647*^9, 3.60711167561267*^9, 3.6071118133467407`*^9, 
   3.607111914901568*^9, 3.607168747663608*^9, 3.6071690512393093`*^9, 
   3.607176725167955*^9},
 FontSize->14]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"Qsubs", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      SubscriptBox["q", "p"], "\[Rule]", 
      RowBox[{"x", "[", "1", "]"}]}], ",", 
     RowBox[{
      SubscriptBox["q", "r"], "\[Rule]", 
      RowBox[{"x", "[", "2", "]"}]}]}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.607111589300655*^9, 3.607111627040409*^9}},
 FontSize->14],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    SubscriptBox["p", "y1"], "/.", 
    RowBox[{
    "L1Solution", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], "/.",
    "Qsubs"}], "//", "Dimensions"}]], "Input",
 CellChangeTimes->{{3.607176593492772*^9, 3.607176627672969*^9}, {
  3.6071766937743464`*^9, 3.607176695356995*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"3", ",", "1"}], "}"}]], "Output",
 CellChangeTimes->{{3.607176595069166*^9, 3.60717662833986*^9}, {
  3.607176695993301*^9, 3.607176725219654*^9}}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stream", "=", 
   RowBox[{"OpenWrite", "[", "\"\<px1.mat\>\"", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Write", "[", 
   RowBox[{"stream", ",", 
    RowBox[{
     SubscriptBox["p", "x1"], "/.", "Qsubs"}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Close", "[", "stream", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Clear", "[", "stream", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.607110834527091*^9, 3.607110844927135*^9}, {
  3.607111641791902*^9, 3.607111642256774*^9}},
 FontSize->14],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stream", "=", 
   RowBox[{"OpenWrite", "[", "\"\<py1.mat\>\"", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Write", "[", 
   RowBox[{"stream", ",", 
    RowBox[{
     RowBox[{
      SubscriptBox["p", "y1"], "/.", 
      RowBox[{
      "L1Solution", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
     "/.", "Qsubs"}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Close", "[", "stream", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Clear", "[", "stream", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.6071110869187927`*^9, 3.6071111024341097`*^9}, {
  3.607111645791058*^9, 3.607111646419346*^9}, {3.607111855255815*^9, 
  3.607111856183035*^9}, {3.607176682402829*^9, 3.607176684440509*^9}},
 FontSize->14],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stream", "=", 
   RowBox[{"OpenWrite", "[", "\"\<py2.mat\>\"", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Write", "[", 
   RowBox[{"stream", ",", 
    RowBox[{
     RowBox[{
      SubscriptBox["p", "y2"], "/.", 
      RowBox[{
      "L2Solution", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
     "/.", "Qsubs"}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Close", "[", "stream", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Clear", "[", "stream", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.607111859609253*^9, 3.607111863547448*^9}, 
   3.607111899272752*^9, {3.607176689105913*^9, 3.60717669012086*^9}},
 FontSize->14],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stream", "=", 
   RowBox[{"OpenWrite", "[", "\"\<px2.mat\>\"", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Write", "[", 
   RowBox[{"stream", ",", 
    RowBox[{
     SubscriptBox["p", "x2"], "/.", "Qsubs"}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Close", "[", "stream", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Clear", "[", "stream", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.6071118728645077`*^9, 3.60711189649697*^9}},
 FontSize->14],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.607111697279653*^9, 3.607111707309317*^9}},
 FontSize->14],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Run", "[", "\"\<python mathtomat.py\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.6071111099225187`*^9, 3.607111115205801*^9}},
 FontSize->14],

Cell[BoxData["0"], "Output",
 CellChangeTimes->{
  3.607111120522965*^9, 3.6071113331599216`*^9, 3.607111375322679*^9, 
   3.6071115591121597`*^9, 3.607111675733684*^9, {3.607111709235302*^9, 
   3.60711171697913*^9}, 3.6071118135263853`*^9, 3.60711191507808*^9, 
   3.60716874776713*^9, 3.607169051378223*^9, 3.607176725302809*^9},
 FontSize->14]
}, Open  ]]
},
WindowSize->{1853, 1147},
WindowMargins->{{-7, Automatic}, {Automatic, -7}},
PrintingCopies->1,
PrintingPageRange->{Automatic, Automatic},
PrintingOptions->{"PaperOrientation"->"Landscape",
"PaperSize"->{Automatic, Automatic},
"PostScriptOutputFile"->"/home/unknownid/print.pdf"},
FrontEndVersion->"9.0 for Linux x86 (64-bit) (February 7, 2013)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 333, 9, 32, "Input"],
Cell[CellGroupData[{
Cell[915, 33, 4863, 128, 258, "Input"],
Cell[5781, 163, 1125, 19, 34, "Output"],
Cell[6909, 184, 1724, 41, 103, "Output"]
}, Open  ]],
Cell[8648, 228, 447, 10, 32, "Input"],
Cell[9098, 240, 1314, 26, 60, "Input"],
Cell[CellGroupData[{
Cell[10437, 270, 163, 4, 32, "Input"],
Cell[10603, 276, 1514, 34, 108, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12154, 315, 534, 14, 55, "Input"],
Cell[12691, 331, 1719, 40, 99, "Output"]
}, Open  ]],
Cell[14425, 374, 249, 6, 32, "Input"],
Cell[14677, 382, 2300, 66, 123, "Input"],
Cell[16980, 450, 388, 11, 55, "Input"],
Cell[CellGroupData[{
Cell[17393, 465, 1746, 43, 55, "Input"],
Cell[19142, 510, 2051, 63, 51, "Output"]
}, Open  ]],
Cell[21208, 576, 630, 17, 57, "Input"],
Cell[CellGroupData[{
Cell[21863, 597, 1349, 33, 57, "Input"],
Cell[23215, 632, 2747, 75, 63, "Output"],
Cell[25965, 709, 2770, 76, 63, "Output"]
}, Open  ]],
Cell[28750, 788, 694, 19, 37, "Input"],
Cell[29447, 809, 567, 17, 37, "Input"],
Cell[CellGroupData[{
Cell[30039, 830, 805, 18, 34, "Input"],
Cell[30847, 850, 3574, 97, 145, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[34458, 952, 664, 16, 34, "Input"],
Cell[35125, 970, 3631, 99, 145, "Output"]
}, Open  ]],
Cell[38771, 1072, 391, 12, 34, "Input"],
Cell[CellGroupData[{
Cell[39187, 1088, 341, 9, 34, "Input"],
Cell[39531, 1099, 187, 4, 32, "Output"]
}, Open  ]],
Cell[39733, 1106, 530, 15, 99, "Input"],
Cell[40266, 1123, 750, 20, 100, "Input"],
Cell[41019, 1145, 673, 19, 100, "Input"],
Cell[41695, 1166, 482, 14, 99, "Input"],
Cell[42180, 1182, 204, 5, 32, "Input"],
Cell[CellGroupData[{
Cell[42409, 1191, 165, 3, 32, "Input"],
Cell[42577, 1196, 347, 6, 65, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)

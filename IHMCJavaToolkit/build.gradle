apply plugin: 'java'
apply from: 'gradleScripts/util.gradle'

sourceCompatibility = 1.7
version = '1.0'

jar {
   manifest {
      attributes(
      "Created-By": "IHMC Gradle Build Script",
      "Implementation-Title": project.name,
      "Implementation-Version": project.version,
      "Implementation-Vendor": "IHMC",
      
      "Bundle-Name": project.name,
      "Bundle-Version": project.version,
      "Bundle-License": "http://www.apache.org/licenses/LICENSE-2.0.txt",
      "Bundle-Vendor": "IHMC")
   }
}

task bambooBabysitterDaemonJar(type: Jar) {
    archiveName = "BambooBabysitterDaemon-1.4.jar"

    from sourceSets.main.output
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }

    /*from {
        sourceSets.main.output

        configurations.runtime.collect {
            it.isDirectory() ? it : zipTree(it)
        }

        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }*/

    manifest {
        attributes 'Main-Class': 'us.ihmc.tools.agileTesting.agileDaemon.view.BambooBabysitterDaemon'
    }
}

setupDefaultDirectoryStructure()

setupDefaultRepositories()

setupProjectSpecificDependencies()